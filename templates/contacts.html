{% extends "base.html" %}

{% block main_content %}
<body>
    <h1>Contacts</h1>
    
    <section>
        <h2>Add a Contact</h2>
        <p><a href = "add_contact">Add A Contact</a></p>
    </section>

    <section>
        <h2>My Contacts</h2>
        <table>
            <tr>
                <th>Name</th>
                <th>email</th>
                <th>Phone Number</th>
                <th>Contact Owner</th>
                <th>Company</th>
                <th>Status</th>
                <th>Edit Contact</th>
                <th>Remove Contact</th>
            </tr>

            {% for contact in contacts %}
                <tr>
                    <form action = "{{url_for('edit_contact', contact_id=contact.contact_id)}}" method = "POST">
                        {{form.hidden_tag()}}
                    
                        <td>{{form.name(value = contact.name)}}
                            {% for error in form.name.errors %}
                                <div>{{ error }}</div>
                            {% endfor %}
                        </td>

                        <td>{{form.email(value = contact.email)}}
                            {% for error in form.email.errors %}
                                <div>{{ error }}</div>
                            {% endfor %}
                        </td>

                        <td>{{form.phone_number(value = contact.phone_number)}}</td>

                        <td>{{form.contact_owner(value = contact.contact_owner)}}</td>

                        <td>{{form.company(value = contact.company)}}</td>

                        <td>{{form.status(value = contact.status)}}</td>

                        <td>{{form.submit(value="Save Changes")}}</td>
                    </form>
                    
                    <td><a href = "{{url_for('remove_contact',contact_id=contact.contact_id)}}">Remove</a></td>
                </tr>

            {% endfor %}
        </table>
    </section>
    
</body>
{% endblock %}